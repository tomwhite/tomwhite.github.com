---
layout: post
title: Learning MapReduce
date: '2008-03-22T09:44:00.004Z'
author: Tom White
tags:
- MapReduce
- Hadoop
modified_time: '2008-04-30T15:03:00.311+01:00'
blogger_id: tag:blogger.com,1999:blog-8898949683610477251.post-7837841027525509394
blogger_orig_url: http://www.tom-e-white.com/2008/03/learning-mapreduce.html
---

<span style="font-style: italic;"><span style="font-weight: bold;">Update</span>: I've posted </span><a style="font-style: italic;" href="http://wiki.apache.org/hadoop-data/attachments/HadoopPresentations/attachments/MapReduce-SPA2008-answers.pdf">my answers</a><span style="font-style: italic;"> to the exercises. Let me know if you find any mistakes. <span style="font-weight: bold;">Also</span>: Tamara Petroff has posted a <a href="http://rfa.blog.idnet.com/?p=14">write up</a> of the session.</span><br /><br />On Wednesday [19 March], I ran a session at <a href="http://www.spaconference.org/spa2008/">SPA 2008</a> entitled "<a href="http://www.spaconference.org/spa2008/sessions/session153.html">Understanding MapReduce with Hadoop</a>". SPA is a very hands-on conference, with many sessions having a methodological slant, so I wanted to get people who had never encountered MapReduce before actually writing MapReduce programs. I only had 75 minutes, so I decided against getting people coding on their laptops. (In hindsight this was a good decision, as I went to several other sessions where we struggled to get the software installed.) Instead, we wrote MapReduce programs on paper, using a simplified notation.<br /><br />It seemed to work. For the first half hour, I gave as minimal an introduction to MapReduce as I could, then the whole group spent the next half hour working in pairs to express the solutions to a number of exercises as MapReduce programs. We spent the last 15 minutes comparing notes and discussing some of the solutions to the problems.<br /><br />There were six exercises, presented in rough order of difficulty, and I'm pleased to say that every pair managed to solve at least one. Here's some of the feedback I got:<br /><ul><li>Some struggled to know what input data formats to use. Perhaps I glossed over this too much - I didn't want people to worry about precisely how the data was encoded - but I could have emphasised more that you can have the data presented to your map function in any way that's convenient.</li><li>While most people understood the notation I used for writing the map and reduce functions, it did cause some confusion. For example, someone wanted to see the example code again so they could understand what was going on. And another person said it took a while to realise that they could do arbitrary processing as a part of the map and reduce functions. It would be interesting to do the session again but using Java notation.</li><li>It was quite common for people to try to do complex things in their map and reduce functions - they felt bad if they just used an identity function, because it was somehow a waste. And on a related note, chaining map reduce jobs together wasn't obvious to many. But once pointed out, folks had an "aha!" moment and were quick to exploit it.</li><li>The fact that you typically get multiple reduce outputs prompted questions from some - "but how do you combine them into a single answer?". Talking about chained MapReduce helped here again.</li><li>Everyone agreed that it wasn't much like functional programming.</li></ul>You can find the <a href="http://wiki.apache.org/hadoop-data/attachments/HadoopPresentations/attachments/MapReduce-SPA2008.pdf">slides</a> on the Hadoop wiki. They include the six exercises, which I've reproduced below, in rough order of difficulty. (I'll post my answers next week.)<br /><ol><li>Find the [number of] hits by 5 minute timeslot for a website given its access logs.</li><li>Find the pages with over 1 million hits in day for a website given its access logs.</li><li>Find the pages that link to each page in a collection of webpages.</li><li>Calculate the proportion of lines that match a given regular expression for a collection of documents.</li><li>Sort tabular data by a primary and secondary column.</li><li>Find the most popular pages for a website given its access logs.</li></ol>Is this a good list of exercises? Do you have any exercises that you've found useful for learning MapReduce?<br /><br />Finally, thanks to <a href="http://chatley.com/">Robert Chatley</a> for being a guinea pig for the exercises, and for helping out on the day with participants' questions during the session.