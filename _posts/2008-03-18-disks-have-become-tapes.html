---
layout: post
title: '"Disks have become tapes"'
date: '2008-03-18T13:04:00.000Z'
author: Tom White
tags:
- Hardware
- MapReduce
- Hadoop
modified_time: '2008-03-18T13:04:42.500Z'
blogger_id: tag:blogger.com,1999:blog-8898949683610477251.post-2860680421013796857
blogger_orig_url: http://www.tom-e-white.com/2008/03/disks-have-become-tapes.html
---

MapReduce is a programming model for processing vast amounts of data. One of the reasons that it works so well is because it exploits a sweet spot of modern disk drive technology trends. In essence MapReduce works by repeatedly sorting and merging data that is streamed to and from disk at the <span style="font-style: italic;">transfer rate</span> of the disk. Contrast this to accessing data from a relational database that operates at the <span style="font-style: italic;">seek rate</span> of the disk (seeking is the process of moving the disk's head to a particular place on the disk to read or write data).<br /><br />So why is this interesting? Well, look at the trends in seek time and transfer rate. Seek time has grown at about 5% a year, whereas transfer rate at about 20% <a href="http://www.blogger.com/post-edit.g?blogID=8898949683610477251&amp;postID=2860680421013796857#1">[1]</a>. Seek time is growing more slowly than transfer rate - <span style="font-style: italic;">so it pays to use a model that operates at the transfer rate</span>. Which is what MapReduce does. I first saw this observation in Doug Cutting's talk, with Eric Baldeschwieler, at <a href="http://conferences.oreillynet.com/os2007/">OSCON</a> last year, where he worked through the numbers for updating a 1 terabyte database using the two paradigms B-Tree (seek-limited) and Sort/Merge (transfer-limited). (See the <a href="http://wiki.apache.org/hadoop-data/attachments/HadoopPresentations/attachments/oscon-part-1.pdf">slides</a> and <a href="http://us.dl1.yimg.com/download.yahoo.com/dl/ydn/hadoop.m4v">video</a> for more detail.)<br /><br />The general point was well summed up by Jim Gray in an <a href="http://www.acmqueue.org/modules.php?name=Content&amp;pa=showpage&amp;pid=43">interview</a> in ACM Queue from 2003:<br /><blockquote>... programmers have to start thinking of the disk as a sequential device rather than a random access device.</blockquote>Or the more pithy: "Disks have become tapes." (Quoted by <a href="http://www.databasecolumn.com/2007/09/disk-trends.html">David DeWitt</a>.)<br /><br />But even the growth of transfer rate is dwarfed by another measure of disk drives - capacity, which is growing at about 50% a year. David DeWitt <a href="http://www.databasecolumn.com/2007/09/disk-trends.html">argues</a> that since the effective transfer rate of drives is falling we need database systems that work with this trend - such as column-store databases and wider use of compression (since this effectively increases the transfer rate of a disk). Of existing databases he says:<br /><blockquote>Already we see transaction processing systems running on farms of mostly empty disk drives to obtain enough seeks/second to satisfy their transaction processing rates.</blockquote>But this applies to transfer rate too (or if it doesn't yet, it will). Replace "seeks" with "transfers" and "transaction processing" with "MapReduce" and I think over time we'll start seeing Hadoop installations that choose to use large numbers of smaller capacity disks to maximize their processing rates.<br /><br /><span style="font-size:85%;"><a name="1">[1]</a> See <a href="http://www.cs.utexas.edu/users/dahlin/techTrends/trends.disk.ps">Trends in Disk Technology</a> by Michael D. Dahlin for changes between 1987-1994. For the period since then these figures still hold - as it's relatively easy to check using manufacturer's data sheets, although with seek time it's harder to tell since the definitions seem to change from year to year and from manufacturer to manufacturer. Still, 5% is generous.</span>